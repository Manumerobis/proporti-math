<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProportionMath - Apprendre la Proportionnalit√© en 6e</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">
            <h1>üßÆ ProportionMath</h1>
        </div>
        <div class="nav-user">
            <div class="user-stats">
                <span class="xp-badge">‚≠ê <span id="userXP">0</span> XP</span>
                <span class="level-badge">Niveau <span id="userLevel">1</span></span>
            </div>
            <div class="user-avatar" id="userAvatar">üë¶</div>
        </div>
    </nav>

    <main class="main-container">
        <!-- Page d'accueil -->
        <section id="homepage" class="page active">
            <div class="hero-section">
                <h1>Bienvenue dans l'univers de la Proportionnalit√© !</h1>
                <p class="hero-subtitle">D√©couvre, explore et ma√Ætrise la proportionnalit√© √† travers 5 modules passionnants</p>
                
                <div class="progress-overview">
                    <h3>Ta progression globale</h3>
                    <div class="progress-bar-container">
                        <div class="progress-bar" role="progressbar" aria-label="Progression globale" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                            <div class="progress-fill" id="globalProgress" style="width: 0%"></div>
                        </div>
                        <span class="progress-text"><span id="progressPercent">0</span>% compl√©t√©</span>
                    </div>
                </div>

                <div class="modules-grid">
                    <div class="module-card" data-module="1">
                        <div class="module-icon">üîç</div>
                        <h3>Module 1</h3>
                        <h4>D√©couverte et Reconnaissance</h4>
                        <p>Apprends √† distinguer les situations proportionnelles</p>
                        <div class="module-progress">
                            <div class="progress-bar mini">
                                <div class="progress-fill" data-progress="1" style="width: 0%"></div>
                            </div>
                        </div>
                        <button aria-label="Ouvrir le Module 1" class="btn btn--primary">Commencer</button>
                    </div>

                    <div class="module-card" data-module="2">
                        <div class="module-icon">‚öñÔ∏è</div>
                        <h3>Module 2</h3>
                        <h4>Propri√©t√©s de Lin√©arit√©</h4>
                        <p>Ma√Ætrise les propri√©t√©s additives et multiplicatives</p>
                        <div class="module-progress">
                            <div class="progress-bar mini">
                                <div class="progress-fill" data-progress="2" style="width: 0%"></div>
                            </div>
                        </div>
                        <button aria-label="Module 2 verrouill√©" class="btn btn--secondary" disabled>Verrouill√©</button>
                    </div>

                    <div class="module-card" data-module="3">
                        <div class="module-icon">üéØ</div>
                        <h3>Module 3</h3>
                        <h4>Passage par l'Unit√©</h4>
                        <p>R√©sous par la m√©thode du passage √† l'unit√©</p>
                        <div class="module-progress">
                            <div class="progress-bar mini">
                                <div class="progress-fill" data-progress="3" style="width: 0%"></div>
                            </div>
                        </div>
                        <button aria-label="Module 3 verrouill√©" class="btn btn--secondary" disabled>Verrouill√©</button>
                    </div>

                    <div class="module-card" data-module="4">
                        <div class="module-icon">üìä</div>
                        <h3>Module 4</h3>
                        <h4>Coefficient de Proportionnalit√©</h4>
                        <p>Identifie et utilise le coefficient</p>
                        <div class="module-progress">
                            <div class="progress-bar mini">
                                <div class="progress-fill" data-progress="4" style="width: 0%"></div>
                            </div>
                        </div>
                        <button aria-label="Module 4 verrouill√©" class="btn btn--secondary" disabled>Verrouill√©</button>
                    </div>

                    <div class="module-card" data-module="5">
                        <div class="module-icon">üèÜ</div>
                        <h3>Module 5</h3>
                        <h4>Applications et Synth√®se</h4>
                        <p>Synth√©tise et applique toutes les m√©thodes</p>
                        <div class="module-progress">
                            <div class="progress-bar mini">
                                <div class="progress-fill" data-progress="5" style="width: 0%"></div>
                            </div>
                        </div>
                        <button aria-label="Module 5 verrouill√©" class="btn btn--secondary" disabled>Verrouill√©</button>
                    </div>
                </div>

                <div class="quick-actions">
                    <button aria-label="Ouvrir le tableau de bord" class="btn btn--outline" id="dashboardBtn">üìä Tableau de Bord</button>
                    <button aria-label="Lancer l'exerciseur" class="btn btn--outline" id="exerciserBtn">üí™ Exerciseur</button>
                </div>
            </div>
        </section>

        <!-- Module 1 -->
        <section id="module1" class="page module-page">
            <div class="module-header">
                <button aria-label="Retour √† l'accueil" class="btn btn--outline back-btn" data-target="homepage">‚Üê Retour</button>
                <h2>üîç Module 1 : D√©couverte et Reconnaissance</h2>
                <div class="module-progress-indicator">
                    <div class="progress-dots">
                        <span aria-label="Activit√© 1" class="dot active" data-activity="1"></span>
                        <span aria-label="Activit√© 2" class="dot" data-activity="2"></span>
                        <span aria-label="Activit√© 3" class="dot" data-activity="3"></span>
                    </div>
                </div>
            </div>

            <div class="activity-container active" id="activity1-1">
                <h3>üéÆ Jeu : Vrai ou Faux Proportionnel ?</h3>
                <p>Examine chaque situation et d√©termine si elle repr√©sente une relation proportionnelle.</p>
                
                <div class="game-card">
                    <div class="situation-card">
                        <h4>Situation :</h4>
                        <p id="currentSituation">Un paquet de 6 yaourts co√ªte 3‚Ç¨. Deux paquets co√ªtent 6‚Ç¨. Trois paquets co√ªtent 9‚Ç¨.</p>
                    </div>
                    
                    <div class="game-buttons">
                        <button aria-label="R√©pondre proportionnel" class="btn btn--primary game-btn" data-answer="true">‚úÖ Proportionnel</button>
                        <button aria-label="R√©pondre non proportionnel" class="btn btn--primary game-btn" data-answer="false">‚ùå Non Proportionnel</button>
                    </div>
                    
                    <div class="feedback-zone" id="feedback"></div>
                    <div class="score-display">Score : <span id="gameScore">0</span>/10</div>
                </div>
                
                <button aria-label="Activit√© suivante" class="btn btn--secondary next-activity" data-next="activity1-2" style="display: none;">Activit√© suivante ‚Üí</button>
            </div>

            <div class="activity-container" id="activity1-2">
                <h3>üè™ Simulateur de March√©</h3>
                <p>Tu tiens un stand au march√©. Calcule les prix en fonction des quantit√©s !</p>
                
                <div class="market-simulator">
                    <div class="product-display">
                        <h4>üçé Pommes : 2‚Ç¨ le kg</h4>
                        <div class="calculator-interface">
                            <label>Quantit√© (kg) :</label>
                            <input type="number" id="quantity" min="0.1" step="0.1" placeholder="Ex: 2.5">
                            <button aria-label="Calculer le prix" class="btn btn--primary" id="calculatePrice">Calculer le prix</button>
                        </div>
                        <div class="result-display" id="priceResult"></div>
                    </div>
                </div>
                
                <button aria-label="Activit√© suivante" class="btn btn--secondary next-activity" data-next="activity1-3">Activit√© suivante ‚Üí</button>
            </div>

            <div class="activity-container" id="activity1-3">
                <h3>üë®‚Äçüç≥ Recettes de Cuisine</h3>
                <p>Adapte cette recette pour diff√©rents nombres de convives !</p>
                
                <div class="recipe-adapter">
                    <div class="recipe-base">
                        <h4>Recette pour 4 personnes :</h4>
                        <ul>
                            <li>400g de farine</li>
                            <li>4 ≈ìufs</li>
                            <li>40cl de lait</li>
                            <li>40g de beurre</li>
                        </ul>
                    </div>
                    
                    <div class="adapter-controls">
                        <label>Nombre de convives :</label>
                        <select id="guestCount">
                            <option value="2">2 personnes</option>
                            <option value="6">6 personnes</option>
                            <option value="8">8 personnes</option>
                            <option value="12">12 personnes</option>
                        </select>
                        <button aria-label="Adapter la recette" class="btn btn--primary" id="adaptRecipe">Adapter la recette</button>
                    </div>
                    
                    <div class="adapted-recipe" id="adaptedRecipe"></div>
                </div>
                
                <button aria-label="Terminer le Module 1" class="btn btn--primary complete-module" data-module="1">Terminer le Module 1 üèÜ</button>
            </div>
        </section>

        <!-- Module 2 -->
        <section id="module2" class="page module-page">
            <div class="module-header">
                <button class="btn btn--outline back-btn" data-target="homepage">‚Üê Retour</button>
                <h2>‚öñÔ∏è Module 2 : Propri√©t√©s de Lin√©arit√©</h2>
                <div class="module-progress-indicator">
                    <div class="progress-dots">
                        <span class="dot active" data-activity="1"></span>
                        <span class="dot" data-activity="2"></span>
                        <span class="dot" data-activity="3"></span>
                    </div>
                </div>
            </div>

            <div class="activity-container active" id="activity2-1">
                <h3>‚ûï Addition et Proportionnalit√©</h3>
                <p>Calcule la valeur manquante.</p>
                <div class="simple-quiz">
                    <label>4 pommes co√ªtent 8‚Ç¨. 8 pommes co√ªtent
                        <input type="number" id="m2AddInput" placeholder="‚Ç¨">
                    </label>
                    <button class="btn btn--primary" id="checkM2Add">Valider</button>
                    <div class="feedback-zone" id="m2AddFeedback"></div>
                </div>
                <button class="btn btn--secondary next-activity" id="next2-1" data-next="activity2-2" style="display:none;">Activit√© suivante ‚Üí</button>
            </div>

            <div class="activity-container" id="activity2-2">
                <h3>‚úñÔ∏è Multiplication proportionnelle</h3>
                <p>Compl√®te ce rapport.</p>
                <div class="simple-quiz">
                    <label>5 cm ‚Üí 20 g, 10 cm ‚Üí
                        <input type="number" id="m2MultInput" placeholder="g">
                    </label>
                    <button class="btn btn--primary" id="checkM2Mult">Valider</button>
                    <div class="feedback-zone" id="m2MultFeedback"></div>
                </div>
                <button class="btn btn--secondary next-activity" id="next2-2" data-next="activity2-3" style="display:none;">Activit√© suivante ‚Üí</button>
            </div>

            <div class="activity-container" id="activity2-3">
                <h3>‚úÖ Situation proportionnelle ?</h3>
                <p>2 kg ‚Üí 5‚Ç¨, 4 kg ‚Üí 10‚Ç¨</p>
                <div class="game-buttons">
                    <button class="btn btn--primary m2-q-btn" data-answer="true">Oui</button>
                    <button class="btn btn--primary m2-q-btn" data-answer="false">Non</button>
                </div>
                <div class="feedback-zone" id="m2QFeedback"></div>
                <button class="btn btn--primary complete-module" id="m2Complete" data-module="2" style="display:none;">Terminer le Module 2 üèÜ</button>
            </div>
        </section>

        <!-- Module 3 -->
        <section id="module3" class="page module-page">
            <div class="module-header">
                <button class="btn btn--outline back-btn" data-target="homepage">‚Üê Retour</button>
                <h2>üéØ Module 3 : Passage par l'Unit√©</h2>
                <div class="module-progress-indicator">
                    <div class="progress-dots">
                        <span class="dot active" data-activity="1"></span>
                        <span class="dot" data-activity="2"></span>
                        <span class="dot" data-activity="3"></span>
                    </div>
                </div>
            </div>

            <div class="activity-container active" id="activity3-1">
                <h3>Prix unitaire</h3>
                <p>12‚Ç¨ pour 3 kg. Prix pour 1 kg ?</p>
                <div class="simple-quiz">
                    <input type="number" id="m3UnitInput" placeholder="‚Ç¨">
                    <button class="btn btn--primary" id="checkM3Unit">Valider</button>
                    <div class="feedback-zone" id="m3UnitFeedback"></div>
                </div>
                <button class="btn btn--secondary next-activity" id="next3-1" data-next="activity3-2" style="display:none;">Activit√© suivante ‚Üí</button>
            </div>

            <div class="activity-container" id="activity3-2">
                <h3>Application</h3>
                <p>Si le prix unitaire est 4‚Ç¨/kg, quel est le prix pour 7 kg ?</p>
                <div class="simple-quiz">
                    <input type="number" id="m3PriceInput" placeholder="‚Ç¨">
                    <button class="btn btn--primary" id="checkM3Price">Valider</button>
                    <div class="feedback-zone" id="m3PriceFeedback"></div>
                </div>
                <button class="btn btn--secondary next-activity" id="next3-2" data-next="activity3-3" style="display:none;">Activit√© suivante ‚Üí</button>
            </div>

            <div class="activity-container" id="activity3-3">
                <h3>Validation</h3>
                <p>3 articles co√ªtent 15‚Ç¨, 6 articles co√ªtent 30‚Ç¨. Est-ce proportionnel ?</p>
                <div class="game-buttons">
                    <button class="btn btn--primary m3-q-btn" data-answer="true">Oui</button>
                    <button class="btn btn--primary m3-q-btn" data-answer="false">Non</button>
                </div>
                <div class="feedback-zone" id="m3QFeedback"></div>
                <button class="btn btn--primary complete-module" id="m3Complete" data-module="3" style="display:none;">Terminer le Module 3 üèÜ</button>
            </div>
        </section>

        <!-- Module 4 -->
        <section id="module4" class="page module-page">
            <div class="module-header">
                <button class="btn btn--outline back-btn" data-target="homepage">‚Üê Retour</button>
                <h2>üìä Module 4 : Coefficient de Proportionnalit√©</h2>
                <div class="module-progress-indicator">
                    <div class="progress-dots">
                        <span class="dot active" data-activity="1"></span>
                        <span class="dot" data-activity="2"></span>
                        <span class="dot" data-activity="3"></span>
                    </div>
                </div>
            </div>

            <div class="activity-container active" id="activity4-1">
                <h3>D√©termination du coefficient</h3>
                <p>6 ‚Üí 18. Quel est le coefficient ?</p>
                <div class="simple-quiz">
                    <input type="number" id="m4CoefInput" placeholder="coef">
                    <button class="btn btn--primary" id="checkM4Coef">Valider</button>
                    <div class="feedback-zone" id="m4CoefFeedback"></div>
                </div>
                <button class="btn btn--secondary next-activity" id="next4-1" data-next="activity4-2" style="display:none;">Activit√© suivante ‚Üí</button>
            </div>

            <div class="activity-container" id="activity4-2">
                <h3>Utilisation du coefficient</h3>
                <p>Avec ce coefficient, que vaut 9 ?</p>
                <div class="simple-quiz">
                    <input type="number" id="m4ApplyInput" placeholder="valeur">
                    <button class="btn btn--primary" id="checkM4Apply">Valider</button>
                    <div class="feedback-zone" id="m4ApplyFeedback"></div>
                </div>
                <button class="btn btn--secondary next-activity" id="next4-2" data-next="activity4-3" style="display:none;">Activit√© suivante ‚Üí</button>
            </div>

            <div class="activity-container" id="activity4-3">
                <h3>V√©rification</h3>
                <p>8 √ó 2,5 = 20. Est-ce proportionnel ?</p>
                <div class="game-buttons">
                    <button class="btn btn--primary m4-q-btn" data-answer="true">Oui</button>
                    <button class="btn btn--primary m4-q-btn" data-answer="false">Non</button>
                </div>
                <div class="feedback-zone" id="m4QFeedback"></div>
                <button class="btn btn--primary complete-module" id="m4Complete" data-module="4" style="display:none;">Terminer le Module 4 üèÜ</button>
            </div>
        </section>

        <!-- Module 5 -->
        <section id="module5" class="page module-page">
            <div class="module-header">
                <button class="btn btn--outline back-btn" data-target="homepage">‚Üê Retour</button>
                <h2>üèÜ Module 5 : Applications et Synth√®se</h2>
                <div class="module-progress-indicator">
                    <div class="progress-dots">
                        <span class="dot active" data-activity="1"></span>
                        <span class="dot" data-activity="2"></span>
                        <span class="dot" data-activity="3"></span>
                    </div>
                </div>
            </div>

            <div class="activity-container active" id="activity5-1">
                <h3>Application directe</h3>
                <p>3 articles co√ªtent 12‚Ç¨. Combien co√ªtent 5 articles ?</p>
                <div class="simple-quiz">
                    <input type="number" id="m5FirstInput" placeholder="‚Ç¨">
                    <button class="btn btn--primary" id="checkM5First">Valider</button>
                    <div class="feedback-zone" id="m5FirstFeedback"></div>
                </div>
                <button class="btn btn--secondary next-activity" id="next5-1" data-next="activity5-2" style="display:none;">Activit√© suivante ‚Üí</button>
            </div>

            <div class="activity-container" id="activity5-2">
                <h3>Rappels</h3>
                <p>6 ‚Üí 9. Quelle valeur pour 10 ?</p>
                <div class="simple-quiz">
                    <input type="number" id="m5SecondInput" placeholder="valeur">
                    <button class="btn btn--primary" id="checkM5Second">Valider</button>
                    <div class="feedback-zone" id="m5SecondFeedback"></div>
                </div>
                <button class="btn btn--secondary next-activity" id="next5-2" data-next="activity5-3" style="display:none;">Activit√© suivante ‚Üí</button>
            </div>

            <div class="activity-container" id="activity5-3">
                <h3>Question finale</h3>
                <p>Une voiture roule 80 km en 1h. Combien en 3h ?</p>
                <div class="simple-quiz">
                    <input type="number" id="m5ThirdInput" placeholder="km">
                    <button class="btn btn--primary" id="checkM5Third">Valider</button>
                    <div class="feedback-zone" id="m5ThirdFeedback"></div>
                </div>
                <button class="btn btn--primary complete-module" id="m5Complete" data-module="5" style="display:none;">Terminer le Module 5 üèÜ</button>
            </div>
        </section>
        <!-- Tableau de bord -->
        <section id="dashboard" class="page">
            <div class="page-header">
                <button aria-label="Retour √† l'accueil" class="btn btn--outline back-btn" data-target="homepage">‚Üê Retour</button>
                <h2>üìä Tableau de Bord</h2>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Tes Badges</h3>
                    <div class="badges-container" id="badgesContainer">
                        <div class="badge-item locked">
                            <span class="badge-icon">üïµÔ∏è</span>
                            <span class="badge-name">D√©tective Proportionnel</span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <h3>Statistiques</h3>
                    <div class="stats-container">
                        <div class="stat-item">
                            <span class="stat-label">Modules compl√©t√©s :</span>
                            <span class="stat-value" id="completedModules">0/5</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Exercices r√©ussis :</span>
                            <span class="stat-value" id="completedExercises">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Temps d'apprentissage :</span>
                            <span class="stat-value" id="learningTime">0 min</span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-card full-width">
                    <h3>Progression par Module</h3>
                    <div class="modules-progress">
                        <div class="module-progress-item">
                            <span>Module 1 - D√©couverte</span>
                            <div class="progress-bar" role="progressbar" aria-label="Module 1" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                                <div class="progress-fill" id="module1Progress" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="module-progress-item">
                            <span>Module 2 - Propri√©t√©s</span>
                            <div class="progress-bar" role="progressbar" aria-label="Module 2" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                                <div class="progress-fill" id="module2Progress" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="module-progress-item">
                            <span>Module 3 - Passage Unit√©</span>
                            <div class="progress-bar" role="progressbar" aria-label="Module 3" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                                <div class="progress-fill" id="module3Progress" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="module-progress-item">
                            <span>Module 4 - Coefficient</span>
                            <div class="progress-bar" role="progressbar" aria-label="Module 4" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                                <div class="progress-fill" id="module4Progress" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="module-progress-item">
                            <span>Module 5 - Synth√®se</span>
                            <div class="progress-bar" role="progressbar" aria-label="Module 5" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                                <div class="progress-fill" id="module5Progress" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Exerciseur -->
        <section id="exerciser" class="page">
            <div class="page-header">
                <button aria-label="Retour √† l'accueil" class="btn btn--outline back-btn" data-target="homepage">‚Üê Retour</button>
                <h2>üí™ Exerciseur</h2>
            </div>

            <div class="exerciser-container">
                <div class="exercise-selector">
                    <h3>Choisis ton type d'exercice :</h3>
                    <div class="exercise-types">
                        <button aria-label="Exercices de reconnaissance" class="btn btn--outline exercise-type-btn active" data-type="recognition">Reconnaissance</button>
                        <button aria-label="Exercices de tableaux" class="btn btn--outline exercise-type-btn" data-type="tableaux">Tableaux</button>
                        <button aria-label="Exercices de calculs" class="btn btn--outline exercise-type-btn" data-type="calculs">Calculs</button>
                    </div>
                </div>

                <div class="exercise-area">
                    <div class="exercise-content" id="exerciseContent">
                        <h4>Question 1/5</h4>
                        <p id="exerciseQuestion">Cette situation est-elle proportionnelle ?<br><br>
                        <strong>Un livre co√ªte 12‚Ç¨, deux livres co√ªtent 24‚Ç¨, trois livres co√ªtent 36‚Ç¨.</strong></p>
                        
                        <div class="exercise-options">
                            <button aria-label="R√©ponse oui" class="btn btn--outline option-btn" data-answer="true">Oui, proportionnelle</button>
                            <button aria-label="R√©ponse non" class="btn btn--outline option-btn" data-answer="false">Non, non proportionnelle</button>
                        </div>
                        
                        <div class="exercise-feedback" id="exerciseFeedback"></div>
                    </div>
                    
                    <div class="exercise-controls">
                        <button aria-label="Question suivante" class="btn btn--secondary" id="nextExercise" style="display: none;">Question suivante</button>
                        <button aria-label="Terminer les exercices" class="btn btn--primary" id="finishExercises" style="display: none;">Terminer</button>
                    </div>
                </div>

                <div class="exercise-results" id="exerciseResults" style="display: none;">
                    <h3>R√©sultats</h3>
                    <div class="results-summary">
                        <div class="result-item">
                            <span>Score :</span>
                            <span id="finalScore">0/5</span>
                        </div>
                        <div class="result-item">
                            <span>Pourcentage :</span>
                            <span id="finalPercent">0%</span>
                        </div>
                    </div>
                    <button aria-label="Recommencer les exercices" class="btn btn--primary" id="restartExercises">Recommencer</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Notifications -->
    <div class="notification-container" id="notifications"></div>

    <!-- Confetti Canvas pour les c√©l√©brations -->
    <canvas id="confetti-canvas"></canvas>

    <script src="app.js"></script>
</body>
</html>